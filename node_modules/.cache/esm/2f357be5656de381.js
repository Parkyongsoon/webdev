let dotenv,db;_656‍.x([["findIdIndex",()=>findIdIndex],["findId",()=>findId]]);_656‍.w("dotenv",[["default",["dotenv"],function(v){dotenv=v}]]);_656‍.w("../../../models",[["db",["db"],function(v){db=v}]]);

dotenv.config();



const { JWT_SECRET } = process.env;

       const findIdIndex = async ctx => {
  try {

    ctx.status = 200;
  
    await ctx.render('user/auth/findId', {
      errorMsg:''
    });

  } catch (e) {
    ctx.throw(500, e);
  };
};

       const findId = async ctx => {
  try {

    const { name, email } = ctx.request.body;

    const findId = await db.tbl_eluly_users.findOne({
      where: {
        name: name,
        email: email
      }
    });

    if(!findId) {

      ctx.status = 200;

      await ctx.render('user/auth/findId', {
        errorMsg: '이용자가 없습니다'
      });
    } else {

      ctx.status = 200;

      await ctx.render('user/auth/findedId', {
        username: findId.username
      });

    };

  } catch (e) {
    ctx.throw(500, e);
  };
};