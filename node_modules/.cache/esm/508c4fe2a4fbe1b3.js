let faker,db;_a4f‍.x([["index",()=>index],["generate_fake",()=>generate_fake]]);_a4f‍.w("faker",[["*",null,function(v){faker=v}]]);_a4f‍.w("../../../models",[["db",["db"],function(v){db=v}]]);



       const index = async ctx => {
  try {
    // const result = {
    //   hits: '',
    //   popup: popup
    // }
    
    // ctx.status = 200;

    // return ctx.body = result
    const popup = await db.tbl_eluly_popup.findAll({});

    ctx.status = 200;

    await ctx.render('user/index', {
      popup,
      hits:''
    });
  } catch (e) {
    ctx.throw(500, e);
  };
};

       const generate_fake = async ctx => {
  try {
    faker.locale = 'ko';
    for(let i = 0; i < ctx.request.body.amount; i++) {
      await db.tbl_eluly_board.create({
        id: i + 1,
        title: faker.random.word(),
        name: faker.name.findName(),
        content: faker.lorem.text(),
      });
    };

    return ctx.redirect('/');
  } catch (e) {
    _a4f‍.g.console.log(e);
  };
};